<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Andy Smith's Blog</title>
  <meta name="author" content="Andrew Smith">



  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="./favicon.png" rel="icon">
  <link href="./theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="./theme/js/modernizr-2.0.js"></script>
  <script src="./theme/js/ender.js"></script>
  <script src="./theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="./">Andy Smith's Blog</a></h1>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
</ul>



<ul class="main-navigation">
      <li><a href="./pages/bluepot.html">bluepot</a></li>
      <li><a href="./pages/chump.html">chump</a></li>
      <li><a href="./pages/contact.html">Contact</a></li>
    <li >
    <a href="./category/blog.html">Blog</a>
    </li>
</ul></nav>
  <div id="main">
    <div id="content">
<div class="blog-index">
  		<article>
<header>
      <h1 class="entry-title">
        <a href="./2010/11/running-glastopfng/">Running GlastopfNG</a>
      </h1>
      <p class="meta"><time datetime="2010-11-17T15:19:47+00:00" pubdate>Wed 17 November 2010</time></p>
</header>

  <div class="entry-content"><ul>
<li>Honeypots</li>
<li>Web</li>
</ul>
<p>I decided to try out <a href="http://glastopf.org/">GlastopfNG</a> recently, I don't know too much about it other than that it is a web application honeypot and the successor to Glastopf. I decided that the best way to learn about it would be to try it out.</p>
<p>This was on a Ubuntu 10.04 LTS. At first I set out to compile from source but as the binaries are provided and compiling from source turned out to be a little tricky I took the easier option.</p>
<blockquote>
<div class="highlight"><pre>wget http://dev.glastopf.org/attachments/17/GlastopfNG.zip
unzip GlastopfNG.zip
cd GlastopfNG/
</pre></div>


</blockquote>
<p>As this is not the latest version there is a <a href="http://dev.glastopf.org/issues/155">NullPointerException bug</a> in this binary, we have to move a .log file to fix this:</p>
<blockquote>
<div class="highlight"><pre>mv ./modules/report/cleanLog/cleanLog.log ./modules/report/cleanLogXXX.log
</pre></div>


</blockquote>
<p>(This needs to be run each time before you start GlastopfNG)</p>
<p>Then we can start!</p>
<blockquote>
<div class="highlight"><pre>java -jar GlastopfNG.jar
</pre></div>


</blockquote>
<p>Now to experiment, results to follow!</p></div>
  <footer>
    <a rel="full-article" href="./2010/11/running-glastopfng/">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="./2010/10/honeypot-hosting/">Honeypot Hosting</a>
      </h1>
      <p class="meta"><time datetime="2010-10-18T12:02:09+01:00" pubdate>Mon 18 October 2010</time></p>
</header>

  <div class="entry-content"><ul>
<li>Honeypots</li>
</ul>
<p>As I am just a honeypot hobbyist and not affiliated with any university or the security department of any organisation I have to host my honeypots myself.</p>
<p>Currently I rent a VPS to do this, a low spec server with two IP addresses. This is perfectly acceptable for my needs (after all, this is just a hobby) but with my lease expiring soon I decided to hunt for the perfect "honeypot host".</p>
<p>There's little information on the internet regarding honeypot hosting and posts I have made in the past on forums have turned up nothing so I decided to contact the hosts directly.</p>
<h2><strong>Results</strong></h2>
<p>I contacted just over ten ISPs, specifically those that specialise in VPS hosting (because I'm cheap), here is what I asked them and what they said:</p>
<p><strong>Q: Can I run a honeypot on your servers?</strong></p>
<ul>
<li><strong>A</strong><em> (best)</em>**: Yes</li>
<li><strong><em>*A </em>*<em>(worst)</em></strong>: No**</li>
</ul>
<p>I didn't ask this question directly although it was discussed in the content of my email, to explain my IP address greed. I was surprised to find many hosts completely unwelcoming to the idea of having a honeypot on their servers. One response from those that weren't interested was that running one would <em>"put a target on everyone within the core infrastructure of that facility"</em> and this was not uncommon. Attempts to to explain that I wasn't exactly planning on sticking an unpatched Windows XP install on their systems were met with deaf ears.</p>
<p><strong>Q: How many IP addresses can I get?</strong></p>
<ul>
<li><strong>A </strong><em>(most)</em>**: 5</li>
<li>A <strong><em>(least)</em></strong>: 0**</li>
</ul>
<p>Obviously quite important for the purposes of running a honeypot, this was the main piece of information I was after. Unfortunately, the maximum offer I received was 8 (with 5 usable). Further enquiries led me to find that <a href="http://www.ripe.net/">RIPE</a> are (understandably) quite particular about what they give IP addresses out for and who to, after allocating a block to an ISP they will perform an audit and if the ISP aren't using the addresses as RIPE see fit they won't give them any more. I contacted RIPE about this, they weren't particularly informative and mostly eager to get me to sign up as a member.</p>
<p><strong>Q: Can you guarantee a good dispersion of the addresses?</strong></p>
<ul>
<li><strong>A </strong><em>(best)</em><strong>: Probably not</strong></li>
<li><strong>A </strong><em>(worst)</em><strong>: No</strong></li>
</ul>
<p>Generally the answer was that this was not possible as ISPs dish out IPs as they get them and also we generally themselves allocated in blocks. Either way, there was no way for any host contacted to guarantee such a service.</p>
<h2><strong>The Hosts</strong></h2>
<p>Those hosts the responded and were happy to host honeypots are as follows:</p>
<ul>
<li>
<p><a href="http://www.slicehost.com/">Slicehost </a> - $2 per IP, Max. 5 IPs.</p>
</li>
<li>
<p><a href="http://www.solarvps.com/"><strong>SolarVPS</strong></a> - No extra IPs.</p>
</li>
<li>
<p><a href="http://www.tagadab.com/">Tagadab</a> - No charge, Max 5 IPs.</p>
</li>
<li>
<p><a href="http://www.vpsland.com/">VPSLand</a> - $2 per IP, Max 5 IPs.</p>
</li>
</ul>
<h2><strong>Conclusion</strong></h2>
<p>All in all, fairly disappointing results, possibly hardly worth the blog post, except in the vain hope that I've missed some super host that can offer me all I need. This is by no means an extensive study but the responses are fairly bleak for those of us with limited resources, regardless, I hope this may save someone the time I expended.</p>
<h2>Follow Up - 3 months on</h2>
<p>This is a quick note I'm adding to the bottom of this article for anyone who finds it and wants to know what I did. I went with <a href="http://www.tagadab.com/">tagadab</a> in the end, as they had the best value and the most IPs on offer. Furthermore their support not only knew what a honeypot was but were welcoming towards the idea of hosting them. I got 5 IPs, they were unvaried (as I had been warned) and basically x.x.x.x, x.x.x.x+1, .. , x.x.x.x+4.</p>
<p>The experience has been fine, the server stable and speedy and no bother for hosting honeypots. Exactly what I wanted.</p>
<p>For those in the position I was 3 months ago I would give a piece of advice that I would like to have tried. From the get go I chose '5 IPs', the maximum, I realised that perhaps my impatience caused me to miss a trick. What I should have done is request 1 IP, then a week later another, then a week later another and so on until I had hit my maximum. This would have almost certainly resulted in a more varied selection of IPs.</p>
<p>If you try this let me know how it works!</p></div>
  <footer>
    <a rel="full-article" href="./2010/10/honeypot-hosting/">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="./2010/07/extra-logins-for-kippo/">Extra logins for Kippo</a>
      </h1>
      <p class="meta"><time datetime="2010-07-11T09:18:13+01:00" pubdate>Sun 11 July 2010</time></p>
</header>

  <div class="entry-content"><ul>
<li>SSH</li>
</ul>
<p>Having run <a href="http://code.google.com/p/kippo/">Kippo</a> for a few days now I am yet to get a successful login. 931 failed login attempts so far. This is due to the fact that by default Kippo only accepts two combinations of username and password: root and 123456. This can be easily altered by editing Kippo.tac. So it made sense to use the usernames and passwords that had been tried against my honeypot an feed them back in.</p>
<p>I did this using this, probably unnecessarily complex, bit of shell script:</p>
<blockquote>
<p>cat log/kippo.log | grep attempt | awk '{ print $9 }' | sed -e 's/[//'g | sed -e 's/]//'g | sed -e 's///'', '/g | awk ' { print "(x27"$0"x27)," } ' | uniq</p>
</blockquote>
<p>This produces a nice long list of 921 usernames and passwords that can then be pasted in to the Kippo configuration file. It's now up and running so hopefully I will get a few more bites.</p></div>
  <footer>
    <a rel="full-article" href="./2010/07/extra-logins-for-kippo/">Read On &crarr;</a>
  </footer>
  		</article>
  		<article>
<header>
      <h1 class="entry-title">
        <a href="./2010/07/kippo-is-cool/">Kippo is Cool</a>
      </h1>
      <p class="meta"><time datetime="2010-07-08T04:31:14+01:00" pubdate>Thu 08 July 2010</time></p>
</header>

  <div class="entry-content"><ul>
<li>SSH</li>
</ul>
<p><a href="http://code.google.com/p/kippo/">Kippo</a> is an incredibly easy to set up SSH Honeypot. The only trouble I had was that it (quite rightly) won't run as root so you can't run it directly on port 22. This is solved by IPTables:</p>
<blockquote>
<p>iptables -t nat -A PREROUTING -i eth0 -p tcp –dport 22 -j REDIRECT –to-port 2222</p>
</blockquote>
<p>Command from another <a href="http://blog.infosanity.co.uk/2010/07/06/starting-with-kippo/#comment-485">Kippo blog post</a>.</p>
<p>Results to follow!</p></div>
  <footer>
    <a rel="full-article" href="./2010/07/kippo-is-cool/">Read On &crarr;</a>
  </footer>
  		</article>
<div class="pagination">

    <a class="next" href="./index4.html">Newer &rarr;</a>
  <br />
</div></div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="./2015/03/running-manuka-docker-honeypot/">Running manuka docker honeypot</a>
      </li>
      <li class="post">
          <a href="./2014/05/docker-volume-and-docker-volume/">Docker volume and docker VOLUME</a>
      </li>
      <li class="post">
          <a href="./2014/03/quick-and-easy-ssh-mitm/">Quick and Easy SSH MITM</a>
      </li>
      <li class="post">
          <a href="./2013/08/raspberry-pi-wi-fi-honeypot/">Raspberry Pi Wi-Fi Honeypot</a>
      </li>
      <li class="post">
          <a href="./2013/04/the-15-dollar-honeypot/">The $15 (per year) Honeypot</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="./category/blog.html">Blog</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="./tag/.html"></a>,    <a href="./tag/raspberry-pi.html">raspberry-pi</a>,    <a href="./tag/dionaea.html">dionaea</a>,    <a href="./tag/honeypots.html">honeypots</a>,    <a href="./tag/volume.html">volume</a>,    <a href="./tag/gwt.html">gwt</a>,    <a href="./tag/kippo.html">kippo</a>,    <a href="./tag/mitm.html">mitm</a>,    <a href="./tag/ssh.html">ssh</a>,    <a href="./tag/ec2-honeypot.html">ec2 honeypot</a>,    <a href="./tag/docker.html">docker</a>,    <a href="./tag/wi-fi.html">wi-fi</a>,    <a href="./tag/honeypot.html">honeypot</a>,    <a href="./tag/access-point.html">access-point</a>  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
    <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = './theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'andrewmichaelsmith',
              count: 5,
              skip_forks: false,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="./theme/js/github.js" type="text/javascript"> </script>
  </section>


<section>
    <p>Follow <a href="http://twitter.com/bingleybeep">@bingleybeep</a></p>
</section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Andrew Smith -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33475321-2']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-33475321-2');
    ga('send', 'pageview');
</script>
	<script type="text/javascript">
	  var disqus_shortname = 'ams-blog';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>